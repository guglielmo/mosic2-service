<?php

namespace UserBundle\Repository;

use Doctrine\ORM\EntityRepository;

/**
 * TitolariRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */

class TitolariRepository extends \Doctrine\ORM\EntityRepository
{

    public function listaTitolari($limit, $offset, $sortBy, $sortType) {
    
        $qb = $this->getEntityManager();

        $query = $qb
            ->createQueryBuilder()->select('t')
            ->from('UserBundle:Titolari', 't')
            ->where('1=1')
            ->setFirstResult($offset)
            ->setMaxResults($limit)
            ->orderBy('t.'.$sortBy, $sortType);
            
            
        //print_r($query->getDql());
        //print_r($query->getQuery()->getSql());

        return $query->getQuery()->getResult();

        
        
        
        
        //return $this->getEntityManager()
        //        ->createQuery('SELECT t
        //                        FROM UserBundle:Titolari t
        //                        WHERE 1=1')->setFirstResult($offset)
        //                                   ->setMaxResults($limit)
        //                                   ->getResult();
    }
    
}